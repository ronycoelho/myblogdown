---
title: "HDI-M and GINI in Brazil (1991, 2000, 2010)"
output: html_document
---



<div id="load-libraries" class="section level1">
<h1>Load libraries</h1>
<pre><code>## -- Attaching packages --------------------------------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.2.1     v purrr   0.3.3
## v tibble  2.1.3     v dplyr   0.8.4
## v tidyr   1.0.2     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.4.0</code></pre>
<pre><code>## -- Conflicts ------------------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre><code>## 
## Attaching package: &#39;janitor&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     chisq.test, fisher.test</code></pre>
<pre><code>## Carregando pacotes exigidos: sf</code></pre>
<pre><code>## Linking to GEOS 3.6.1, GDAL 2.2.3, PROJ 4.9.3</code></pre>
</div>
<div id="load-datas" class="section level1">
<h1>Load datas</h1>
<pre class="r"><code>idh_gini = tempfile(fileext = &quot;.xlsx&quot;)
dataURL &lt;- &quot;https://github.com/ronycoelho/databases/raw/master/idh_census.xlsx&quot;

download.file(dataURL, destfile=idh_gini, mode=&#39;wb&#39;)

idh_gini &lt;- readxl::read_excel(idh_gini, sheet =2) %&gt;% 
  clean_names() %&gt;% 
  select(ano,   codmun7, gini, idhm)

dt &lt;- brmap_municipio %&gt;% 
  inner_join(idh_gini, by = c(&quot;municipio_cod&quot; = &quot;codmun7&quot;))</code></pre>
</div>
<div id="theme-map" class="section level1">
<h1>Theme map</h1>
<pre class="r"><code>theme_map_br &lt;- theme(panel.background = element_rect(fill = &quot;transparent&quot;), 
        panel.grid.major = element_line(color = &quot;transparent&quot;), 
        axis.text.x = element_blank(), 
        axis.text.y = element_blank(), 
        axis.ticks = element_blank(),
        legend.position = c(0.4, 0.4), 
        legend.justification = c(1, 1),
        legend.background = element_blank(),
        legend.text = element_text(size = 20),
        legend.title = element_text(size=20),
        plot.title=element_text( hjust=0, vjust=-5, face=&#39;bold&#39;))</code></pre>
</div>
<div id="plot-hdi-m-1991-2000-2010" class="section level1">
<h1>Plot HDI-M (1991, 2000, 2010)</h1>
<pre class="r"><code>ggplot(dt)+
  geom_sf(aes(fill=idhm), colour = alpha(&quot;white&quot;, .2), lty=3)+
  scale_fill_viridis_c(option = &quot;inferno&quot;)+
  geom_sf(data=brmap::brmap_brasil, fill=NA, color = &quot;black&quot;)+
  geom_sf(data=brmap::brmap_estado, fill=NA, color = &quot;black&quot;)+
  theme_map_br +
  facet_wrap(~ano,ncol = 1, nrow = 3)</code></pre>
<p><img src="/post/idh_gini_files/figure-html/unnamed-chunk-4-1.png" width="768" /></p>
</div>
<div id="plot-gini-1991-2000-2010" class="section level1">
<h1>Plot GINI (1991, 2000, 2010)</h1>
<pre class="r"><code>ggplot(dt)+
  geom_sf(aes(fill=gini), colour = alpha(&quot;white&quot;, .2), lty=3)+
  scale_fill_viridis_c(option = &quot;inferno&quot;, direction = -1)+
  geom_sf(data=brmap::brmap_brasil, fill=NA, color = &quot;black&quot;)+
  geom_sf(data=brmap::brmap_estado, fill=NA, color = &quot;black&quot;)+
  theme_map_br +
  facet_wrap(~ano, ncol = 1, nrow = 3)</code></pre>
<p><img src="/post/idh_gini_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
